		How to edit fml CVS repository

CAUTION:
   you need "BSD make" not gmake.

* For developpers: 

check out cvs tree

   % cvs -d cvs.fml.org:/cvsroot co fml

edit it and commit it! Please add your changes to "CHANGES".

* snapshot maker

If you are the maintainer to make 'snapshot', 

   % cvs -d cvs.fml.org:/cvsroot co fml
   % touch CHANGES	(or get the latest CHANGES)
   % make build

* release maker

   % cvs -d cvs.fml.org:/cvsroot co fml
   % make build
   % echo 3.0.x > conf/release
   % echo 3.0.x > conf/release_version
   % make release


-----------------------------------------------------------------
* The fml master maintainer who is responsible for 
  e.g. snapshot generation
  should check the version number

0.	check conf/.

	conf/release			2.2A      ;;; main trunk version
	conf/release_version		2.2A#100  ;;; snapshot (not in cvs)
	conf/branch			current, stable, etc...
					which reflects ftp servre hier(7).
	conf/mode			$NULL or "daily" which indicates mode
					expecially for daily snapshot system

"conf/release" is the main trunk revision, which should be set up by hand.
distrib/bin/fml_version.pl controls "conf/release_version".

1.	define the current snapshot number "conf/release_version".

You need to set "conf/release" based on information not in cvs.

2. 	cp distrib/mk/fmlmk.conf.example ~/.fmlmk.conf
	
edit .fmlmk.conf to fit your directory hier(7), for example, WWW_DIR,
FTP_DIR for exports...
	

-----------------------------------------------------------------
* CVS on cvs.fml.org  NetBSD-current/newsmips (1.3I)

^fml
		-> source-changes@fml.org 
		-> /cvsroot/log/fml/commitlog

^fml/doc
		-> doc-changes@fml.org 
		-> source-changes@fml.org 
		-> /cvsroot/log/fml/commitlog

^fml/distrib/history
		-> /cvsroot/log/fml/commitlog

-----------------------------------------------------------------
* TAG, BRANCH

When you make "fml x.y.z release", you will work on the branch split
off from the main trunk. For example

	   2.2 -----> 2.2 A --*--> 2.2B ----->	(main trunk)
	                      |
	                  2.2.1 BETA		(branch)
	                      |			(* == fml-2-2-bb0)
	                  2.2.1 Release

If you do "make snapshot", the following "make_wrapper" may be useful.

	#!/bin/sh
	FML=$PWD;            export FML
	BRANCH_SNAPSHOT=yes; export BRANCH_SNAPSHOT
	exec make $*

If $BRANCH_SNAPSHOT is set, distrib/bin/generator does not synchronize
the fml distribution with www and ftp/snapshot/ directory.


[ALREADY ASSIGNED TAGS]

fml-2-1		2.1 Release
fml-2-2		2.2 Release
fml-2-2A-end	the end point of 2.2A
fml-2-2-bb0	2.2 release working branch line
		which is the road to 2.2.1.
fml-2-2-1-prep	== fml-2-2-bb0's alias
		the road to 2.2.1

fml-2-2A-end	2.2A end
fml-2-2D	2.2D start
fml-2-2D-start	2.2D start

fml-3-0-maint	3.0 release branch
fml-3-0-bb0	3.0_BETA start point
fml-3-0		3.0 release
		XXX: update -j fml-3-0-maint:"1999-8-16 00:39" -j fml-3-0-maint
