<TITLE>
FILTER PROGRAM 1
</TITLE>

see CF*/ml-support

<PRE>
#! /bin/sh
#
#	Tiny ML filter by motonori@wide.ad.jp on Mar.16,1994
#
# entries for /etc/aliases:
#	hoge-ml:		"|/this/script"
#	hoge-recipients:	:include: /member/list/file
#	hoge-request:		administrator

/bin/awk '\
BEGIN {skip = 0;}\
/^$/, NR == 0 {print; next;}\
/^(Received|Errors-To|Return-Receipt-To):/ {skip = 1; next;}\
/^[ 	]/ && skip == 1 {next;}\
{skip = 0};\
/^From:/ {\
	print "Precedence: list";\
	print;\
	next;\
}\
{print;}'\
| /usr/lib/sendmail -oi -fhoge-request hoge-recipients
