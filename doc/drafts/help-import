Replied: Thu, 03 Apr 1997 22:42:21 +0900
Replied: "fml-support@ffs.fml.org "
Received: by hikari.sapporo.iij.ad.jp (8.8.5/3.4W6+Hikari-2.1) with ESMTP id RAA11340 for <fukachan@sapporo.iij.ad.jp>; Tue, 1 Apr 1997 17:55:18 +0900 (JST)
Received: by eve.sapporo.iij.ad.jp; id RAA09117; Tue, 1 Apr 1997 17:55:15 +0900 (JST)
Received: from eriko.sapporo.iij.ad.jp(202.232.14.19) by eve.sapporo.iij.ad.jp via smap (V3.1)
	id xma009114; Tue, 1 Apr 97 17:55:12 +0900
Received: by eriko.sapporo.iij.ad.jp (8.8.5/3.4W6+Eriko1.3+fml.org01/Hikari-1.7) with SMTP id RAA11166; Tue, 1 Apr 1997 17:54:04 +0900 (JST)
Date: Tue, 1 Apr 97 17:54:02 JST
Posted: Tue, 1 Apr 1997 17:53:19 +0900 (JST)
From: "Metalman(YAMZAKI Kazuyuki)" <metalman@kt.rim.or.jp>
Reply-To: fml-support@ffs.fml.org
Subject: help=?ISO-2022-JP?B?GyRCJVUlISUkJWskcjpuJEMkRiRfJF4kNxsoQg==?=
 =?ISO-2022-JP?B?GyRCJD8bKEI=?=
To: fml-support@ffs.fml.org (fml supporting ML)
Message-Id: <199704011754.FMLAAA11162.fml-support@ffs.fml.org>
X-ML-Name: fml-support
X-Mail-Count: 02418
X-MLServer: fml [fml 2.1_GAMMA#183](distribute + commands available mode)
X-ML-Info: If you have a question, send "# help" to the address fml-support-ctl@ffs.fml.org
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-2022-JP
Content-Transfer-Encoding: 7bit
Precedence: list
Lines: 438

　こないだデリバリーされたリビジョンからhelpファイルが新しくなってますね。
非常にわかりやすくなっていて、ありがたかったです。
　実は、先週あたりから独自に、helpファイルをリライトしていました。そこで、
今回公開されたhelpファイルと、私が作ったhelpファイルを合わせて、完成度を
高めてみました。間違い、わかりづらい点などありましたら、ご指摘いただけれ
ば幸いです。でかいファイルで申し訳ありません。

//インターネッター　めたるまん（やまざきかずゆき）＠にんじんじむしょ
//    インターネットだからしかたないよねメーリングリスト参加者募集中
//                      metalman@kt.rim.or.jp  metalman@ba.mbn.or.jp
//                                http://plaza3.mbn.or.jp/~metalman/


	urara-urara メーリングリスト の使い方について

----- Index -----

1	基本的な使い方
1.1	メーリングリストとは？
1.2	コマンドの使い方
1.3	もし、わからなくなったら？

2	コマンドの一覧
2.1	情報の取り寄せ・基本的なコマンド
2.2	メンバー情報や配送の停止・脱会等
2.3	ドメイン名が変更になった場合
2.4	まとめ送り
2.5	過去の記事の取り寄せ 

3	標準でないコマンド
3.1	ライブラリ
3.2	whois database による情報交換
3.3	traffic コマンド(投稿量の統計)
3.4	その他

4	コマンドの使い方の具体例
4.1	過去のメールの取り寄せ方

-----------------


1	基本的な使い方

1.1	メーリングリストとは？

メーリングリストは、配送用のアドレス urara-urara@kt.rim.or.jp に来た
メールをメーリングリストのメンバー全員に配送します。


1.2	コマンドの使い方

このメーリングリストサーバーには、さまざまな機能が搭載されています。そ
の機能を使うときは、「コマンド」と呼ばれる単語を書いたメールを、指定さ
れたメールアドレスに送信します。
メーリングリストサーバーにコマンドを送り、過去の記事を取り寄せたり、配
送を一時停止するためには、アドレス

	urara-urara@kt.rim.or.jp

にコマンドを含むメールを送って下さい。送るべき内容は

	# コマンド オプション

コマンドは、メール本文の先頭から、「# help」という形式で書きます。
コマンドは大文字でも小文字でも同様に認識しますので、「# help」は「# Help」
でも「# HELP」でもかまいません。ただし、２バイト文字（いわゆる全角文字）
で「＃　ＨＥＬＰ」としても認識しませんのでご注意ください。
オプションは普通、大文字小文字を区別します。

例：
以下は、過去の１０番目の投稿から５つ分を取り出して、参加しているメンバー
のリストを取り寄せるコマンドメールの例です。
--------- メール本文 --------------
# get 10-14
# members
# exit
-----------------------------------


1.3	もし、わからなくなったら？

どうしてもわからないとか、エラーメール等が返ってきたりした場合は、メー
リングリストの管理者

	owner-urara-urara@kt.rim.or.jp

までメールを送って下さい。出来るだけ、

	何をして、そうなったのか？
	その時投げたメール、返ってきたメール

をつけてメールしてもらえると、問題解決の手掛かりになりますので、よろし
くお願いします。



2	コマンドの一覧

以下の説明は

コマンド		説明と具体例

の形でならんでいます。具体例は次の章で説明します。
なお、[]で囲まれた部分は省略可能です。


2.1	情報の取り寄せ・基本的なコマンド

# help			コマンドのヘルプ（この文書を得る）
# objective		メーリングリストの目的、約束事を得る
# guide			案内を得る（非メンバーでも可能）

# msg			管理者へメールを送る
			「# msg」コマンドが含まれているメールは、管理
			者にそのまま転送されます。
			なお、「# msg」コマンドの後のコマンドはすべて
			無視されます。
			例：
				# guide
				# msg
				こんにちは。ここがメッセージです。
				# objective
			この例では「# guide」は実行されて案内の文書が
			取り寄せられますが、「# objective」は実行され
			ません。

# summary [キーワード]	過去の記事一覧を得る(Summary全体を送る)
				例: 
				summary		summary ファイル全体
				summary last:10 最近の10個の記事のサマ
						リー
				summary 100-200 記事100〜200 のサマリー
						だけをみる

# exit			コマンド列の終わりをあらわす
			これ以降にどんな文字があっても、メーリングリス
			トサーバーはコマンドとは認識しません。
			Signatureがあっても大丈夫です。
# end			# exitと同じ
# quit			# exitと同じ


2.2	メンバー情報や配送の停止・脱会等

# members		(投稿できる)メンバのリストを得る
			メーリングリストサーバーが自動登録に設定されて
			いる場合は、配送先のメールアドレスと同一になり
			ます。自動登録が禁止されている場合は、配送を希
			望中でも、配送されていないメールアドレスも含ま
			れています。

# actives		(実際に配送されている)メンバーのリストを得る
			メーリングリストサーバーの設定が、自動登録禁止
			になっている場合に有効です。自動登録の場合はこ
			れで取り寄せられる一覧は意味がありません。

	・メンバーリストのファイルの形式について
	actives に掲載されているアドレスが実際にメールの配送先になります。
	行頭に「#」が付いているだけのものは一時的に配送を止めているもので、
	「# on」によって再開されます。「##BYE」は脱退された方の残骸です。

# status [アドレス]	現在の設定を得る(まとめおくりとかOFFとか)
			オプションはメールアドレスを指定します。
			オプションを省略すると自分自身の状態です。
# stat [アドレス]	# statusと同じ

	〜 配送のモード等について 〜

	複数のアドレスが登録してある場合の ON, OFF, MATOME 等の操作は、
	操作するべきアドレスが一つに特定できるまでアドレスを一意に特定
	できるまでアドレスのチェックを厳しくしてチャレンジします。
	＃どうしてもだめな場合だけは管理者へコンタクトをして下さい。

# skip			配送を停止するが、投稿は可能にする
# noskip		投稿は禁止されるが、配送される
# off	 		メーリングリストを一時的に離脱する
# on	 		一時的離脱をやめて再参加する
# bye	 		メーリングリストをやめる
# unsubscribe 		# byeと同じ


2.3	ドメイン名が変更になった場合

# chaddr 古いアドレス 新しいアドレス
			メーリングリストに参加するアドレスを変更する

古いアドレスと新しいアドレスのどちらからこのコマンドを送っても受け付け
られます。

このコマンドは、オプションが以下の条件を満たしたときに実行されます。

１、コマンドを送ったメールのFrom: に設定したアドレスが、オプションに指
　　定したアドレスのどちらかと一致する
２、オプションに指定したアドレスのどちらかはすでにメンバー

いたずら防止のために、結果にかかわらず、確認のメールが古いアドレス、新
しいアドレス、管理者の３つに配送されます。


2.4	まとめ送り

※以下の説明で、「# matome」は「# digest」としても同様の動作になります。

# matome 数字(0-23)	配送間隔おきのまとめ送りに設定する
			ただし、配送間隔は、毎日午前０時を起点としては
			じまります。ですから、引数に「13」以上の数を指
			定しても、一日一回の配送になります。
			if(0 == (24 % time))
			default は gzip した Unix From つきのファイルの
			固まり

# matome 数字(24-36)	一日一回指定時間のまとめ送りに設定する
			午前５時のまとめ送りを設定したいときは、24+5=29
			を指定してください。

   例：
	# matome 数字u	plain(unpack)、つまりplain textを
	# matome 数字i 	lha + ish でまとめて送ります
   オプション：
		オプションなしはGZIP(UNIX FROM)
	u	PLAINTEXT(UNIX FROM)
	uf	PLAINTEXT(UNIX FROM)
	i	lha + ish 
	ish	lha + ish 
	mp	MIME/Muptilpart	PLAINTEXT
	d	RFC1153 format 	PLAINTEXT
	b	RFC934 format 	PLAINTEXT(mh-burst)
	rfc934	
	ish	lha + ish 
	lhaish
	i
	li
	lu	lha + uuencode
	lhauu
	unpack	PLAINTEXT(UNIX FROM)

# matome 0		普通の配送へ戻す

   例：
   # matome 1		まとめ送り １時間に一回(gzipd)
   # matome 2		まとめ送り ２時間に一回(gzipd)
   # matome 2u		まとめ送り ２時間に一回(plain text)
   # matome 2mp		まとめ送り ２時間に一回 MIME/Multipart形式で
   # matome 17		まとめ送り 一日一回と同じ(gzipd)
			#この場合は１７時に来る
   # matome 29		まとめ送り 一日一回と同じ(gzipd)
			#この場合は午前５時に来る
			＃matome 5 は５時間“おき” という意味


2.5	過去の記事の取り寄せ 

# index			「# get」で取り寄せ可能な投稿の番号を取り寄せる
			index ファイルがあるのなら、それを返します。

# get  ID		過去の記事を得る(ひとつずつ plain text で送り返す)
# send ID		# getと同じ

# mget 1-10,5みたいなsyntax 	[モード]	[時間間隔]
# mget 正規表現 		[モード]	[時間間隔]
			ファイルをまとめて送り返す
			スプールの記事や、
			(もしあれば)アーカイブにあるファイル
   引数：
	範囲を指定	1-10,12,15-100 1,2,10
			first first:10 last:30 100-last(mh的 Syntax)
	正規表現	e.g. * ? 1? 1?? 
	モード		gz tgz ish rfc934 b rfc1153 d unpack uf(default=tgz)
	時間間隔	送り返すメールが複数の時の間隔(default=300)	
   モード：
		オプションなしは tar+gzip で spool.tar.gz
	tgz	同上
	uf	PLAINTEXT(UNIX FROM)
	gz	GZIP(UNIX FROM)
	b	RFC934 format 	PLAINTEXT(mh-burst)
	rfc934	
	ish	lha + ish 
	lhaish
	i
	li
	lu	lha + uuencode
	lhauu
	unpack	PLAINTEXT(UNIX FROM)
	uu	UUENCODE
	d	RFC1153 format 	PLAINTEXT
	rfc1153	RFC1153 format 	PLAINTEXT


3	標準でないコマンド

※以下のコマンドは管理者のポリシーによって使っていないこともあります。

3.1	ライブラリ

メンバーがファイルを登録したり、それを取り寄せたりするためのものです。

# library 命令		ライブラリへのアクセス
			アーカイブとの違いはほとんどありませんが、put 
			が可能になっています。
			＃ただしファイル名は記事番号指定のみ(for security)

# library get 数字	mget と同じ引数がつかえます
# library put 		普通のメールスプールのようにアーカイブしていきます
# library index		ライブラリにたくわえられているファイルのサマリー
# library summary	同上


3.2	whois database による情報交換

# whois [-h host] key	whois で key を探す
			host が与えられた場合はそのhostへIPCで、
			もしそうでない場合は、メーリングリストサーバー
			ローカルな whois database を探します。
# whois -a		特殊オプションで、すべての登録エントリを表示する
# iam			自己紹介を登録する
# who			自己紹介の一覧を得る


3.3	traffic コマンド(投稿量の統計)

# traffic [-n <best?>] [-m <mails>] [-d]
			メールの投稿量の統計を得る

オプション -n は、5. の投稿量の多い人のベスト何人まで表示するかを数字
で指定します。デフォルトでは、-n 10 と同じです。
オプション -m は、4. の何通以上あった日を表示するかを数字で指定します。
省略時は「-m 25」と同じです。

オプションをすべて省略して、「# traffic」として送ると、以下の情報が得られます。

     1. 月毎のメール投稿量
     2. メール投稿量毎の日数
     3. 時間帯別の投稿量
     4. 1 日 25 通以上投稿があった日
     5. 投稿者ベストテン
     6. 1 日当たりの平均投稿量と最大投稿量

オプションで「-d」を指定すると、以下の情報が得られます。

     0. 日毎の投稿量


3.4	その他

# addr aoi@chan.panic

	現在では管理者用です。複数のアドレスにマッチした場合は
	一つに特定できるまでアドレスのマッチルールを厳しくして
	コマンドを実行しようとします。通常必要ありません。

			複数の配送先を持つ人はＯＦＦコマンド等で
			サーバーの設定によっては複数マッチしてしまう
			e.g. aoi@chan.panic と aoi@hayakawa.chan.panic
			も両方マッチしてしまう時、
			今は aoi@chan.panic についてのコマンドを行ないたい時
			に使うと、このコマンド以降の他のコマンドを 
			aoi@chan.panic に対してのみ行なうようにする。
			まんがいち複数マッチをしたら サーバは自動的に
			アドレスのチェックの精度をあげてトライをするの
			でたぶん必要ないとおもいます


4	コマンドの使い方の具体例

4.1	過去のメールの取り寄せ方

※すべてのコマンドは、「urara-urara@kt.rim.or.jp」宛てに送ってください。

   ○ 個々に取り寄せる場合

　　個々に過去のメールを取り寄せるには「# get」を使います。以下にメール
　の本文に書く例を示します。

　(1) 1 番目のメールが欲しい

     # get 1

　(2) 1 〜 3 番目のメールが欲しい

     # get 1
     # get 2
     # get 3
  
   ○ まとめて取り寄せる場合

　　まとめて過去のメールを取り寄せるには「# mget」を使います。以下にメー
　ルの本文に書く例を示します。

　(1) 100 〜 200 番目のメールが欲しい

     # mget 100-200

　(2) 100 〜 200 番目のメールを複数になる場合は 30 秒間隔で欲しい

     # mget 100-200 30

　(3) 100 〜 200 番目のメールを PLAIN TEXT で欲しい

     # mget 100-200 unpack

　(4) 100 〜 200 番目のメールを LHA + ISH で欲しい

     # mget 100-200 ish

　(5) 100 〜 200 番目のメールを 30 秒間隔、PLAIN TEXT で欲しい

     # mget 100-200 30 unpack

　　返送されるメールは 1000 行で切ってバラバラに送られるので、送り返さ
　れてくるメールとメールの時間間隔を指定して下さい。先の例では 30 なの
　で 30 秒間隔で送り返されます。

　　指定しなかった場合の時間間隔は 5 分です。

　　フォーマットを指定しなかった場合、ファイルは tar でまとめられ gzip
　され uuencode されて送り返されます。

　　1000 行を越える場合は複数のメイルに分けますので、自分でつなげて(^^;
　例えば bar というファイルにしたとします。
＃uuencode されている場合は undecode を使えば順番さえ合わせれば自動展開
＃されます。

     % uudecode bar
     % ls 
     spool.tar.gz
     % gzip -cd spool.tar.gz | tar xf - 
     % ls 
     spool.tar.gz spool
     % ls -l
     -rw-r--r-- .......................... spool.tar.gz
     drwxr-xr-x .......................... spool

　という具合に spool ディレクトリというのが出来ます。この中に取り寄せた
　メイルがしまわれています。


1997.4.1.


