# Copyright (C) 1993-1997 Ken'ichi Fukamachi
#          All rights reserved. 
#               1993-1996 fukachan@phys.titech.ac.jp
#               1996-1997 fukachan@sapporo.iij.ad.jp
# 
# FML is free software; you can redistribute it and/or modify
# it under the terms of GNU General Public License.
# See the file COPYING for more details.
#
# $Id$


### DEFUALT
#
# type: y-or-n
#
#	query:		y/n
#	pat:		y|n
#	default:	n
#
# type: select
#
#	query:		0-N
#	pat:		0|1|2|..N
#	default:	0
#

======================================================================
###### /
==================================================


/

=variable

=menu
	=== TOP MENU ===

	Mailing List Addresses
	     FOR POST          $config{'MAIL_LIST'}
	     FOR COMMAND       $SUMMARY{'CONTROL_ADDRESS'}
	_______________________

	_i_  END		
	_i_  ACCESS_POLICY

	     [POST]
	       PERMIT_POST_FROM                 $config{'PERMIT_POST_FROM'}
	       WHEN POST FROM NOT MEMBER        $config{'REJECT_POST_HANDLER'}

	     [COMMAND]                          
	       PERMIT_COMMAND_FROM              $config{'PERMIT_COMMAND_FROM'}
	       WHEN COMMAND FROM NOT MEMBER     $config{'REJECT_COMMAND_HANDLER'}

	_i_  REGISTRATION_POLICY

	     AUTO_REGISTRATION_TYPE             $config{'AUTO_REGISTRATION_TYPE'}

	_i_  COMMAND_ADDRESS_POLICY
	           address for command          $SUMMARY{'CONTROL_ADDRESS'}

	_i_  REMOTE_ADMINISTRATION              $SUMMARY{'REMOTE_ADMINISTRATION'}

	                 AUTH_TYPE              $config{'REMOTE_ADMINISTRATION_AUTH_TYPE'}

	_i_  HEADER_CONFIG
	     SUBJECT_TAG_TYPE                   $config{'SUBJECT_TAG_TYPE'}
	     REWRITE_TO                         $SUMMARY{'REWRITE_TO'}
	_i_  OPTION                             $SUMMARY{'/OPTION'}

=query
	type:	select



======================================================================
###### /ACCESS_POLICY
==================================================

/ACCESS_POLICY

=name
	POLICY OF ACCESS (WHO CAN POST AND USE COMMANDS)

=menu
	WHO CAN POST AND COMMAND

	_i_  END		

	[POST]

	_i_  PERMIT_POST_FROM                   $config{'PERMIT_POST_FROM'}
	_i_  WHEN_POST_FROM_NOT_MEMBER          $config{'REJECT_POST_HANDLER'}

	[COMMAND]                               

	_i_  PERMIT_COMMAND_FROM                $config{'PERMIT_COMMAND_FROM'}
	_i_  WHEN_COMMAND_FROM_NOT_MEMBER       $config{'REJECT_COMMAND_HANDLER'}

=query
	type:	select
	menu:	policy

=map


==================================================

/ACCESS_POLICY/PERMIT_POST_FROM

=config
	PERMIT_POST_FROM

=name
	PERMIT POST FROM

=menu
	ADDRESSS FOR POST                  $config{'MAIL_LIST'}
	PERMIT_POST_FROM                   $config{'PERMIT_POST_FROM'}

	_i_	END
	_i_	members_only
	_i_	anyone
	_i_	moderator

=query
	type:		select
	menu:		Permit post from 

=map
	1	members_only
	2	anyone
	3	moderator


==================================================

/ACCESS_POLICY/PERMIT_COMMAND_FROM

=config
	PERMIT_COMMAND_FROM

=name
	PERMIT COMMAND FROM

=menu
	ADDRESS FOR COMMAND                $SUMMARY{'CONTROL_ADDRESS'}
	PERMIT_COMMAND_FROM                $config{'PERMIT_COMMAND_FROM'}

	_i_	END
	_i_	members_only
	_i_	anyone
	_i_	moderator

=query
	type:		select
	menu:		Permit command from 


=map
	1	members_only
	2	anyone
	3	moderator



==================================================

/ACCESS_POLICY/WHEN_POST_FROM_NOT_MEMBER
	
=config
	REJECT_POST_HANDLER

=menu
	When we receive a post from not member, 
	we $config{'REJECT_POST_HANDLER'}.

	_i_	END
	_i_	reject
	_i_	auto_regist
	_i_	ignore

=query
	type:		select
	menu:		which

=map
	1	reject
	2	auto_regist
	3	ignore


==================================================

/ACCESS_POLICY/WHEN_COMMAND_FROM_NOT_MEMBER
	
=config
	REJECT_COMMAND_HANDLER

=menu
	When we receive a command mail from not member, 
	we $config{'REJECT_COMMAND_HANDLER'}.

	_i_	END
	_i_	reject
	_i_	auto_regist
	_i_	ignore

=query
	type:		select
	menu:		which

=map
	1	reject
	2	auto_regist
	3	ignore


======================================================================
###### /REGISTRATION_POLICY

/REGISTRATION_POLICY

=config
	AUTO_REGISTRATION_TYPE

=name
	POLICY OF AUTO REGISTRATION

=menu
	AUTO_REGISTRATION_TYPE	$config{'AUTO_REGISTRATION_TYPE'}

	_i_  END
	_i_  confirmation
	_i_  body
	_i_  subject
	_i_  no-keyword


=query
	type:		select
	menu:		which type

=map
	1  confirmation
	2  body
	3  subject
	4  no-keyword


======================================================================
###### /COMMAND_ADDRESS_POLICY

/COMMAND_ADDRESS_POLICY

=config
	CONTROL_ADDRESS

=name
	COMMAND ADDRESS 

=menu
	COMMAND ADDRESS			$SUMMARY{'CONTROL_ADDRESS'}

	For command, which address you use?
	(here DOMAINNAME = $config{'_CA_DOMAIN_'});

	_i_	END
	_i_	$config{'_ML_'}-ctl\@\$DOMAINNAME
	_i_	$config{'_ML_'}\@\$DOMAINNAME
	_i_	fmlserv\@\$DOMAINNAME
	_i_	NOT USE

	For example, let's create the mailing list \"elena\" ML :-).
	In default, we use \"elena-ctl\" format address for command only.
	If you choice \"elena\" for commands, 
	\"elena\" receive both posted articles and commands
	where \"# command\" trap in the mail body is a sign of a commands mail.
	\"fmlserv\" is the listserv/majordomo style interface of FML.

=query
	type:		select
	menu:		which type

=map
	1	$config{'_ML_'}-ctl@$DOMAINNAME
	2	$config{'_ML_'}@$DOMAINNAME
	3	fmlserv@$DOMAINNAME
	4	_NULL_


======================================================================
###### /REMOTE_ADMINISTRATION

/REMOTE_ADMINISTRATION

=menu
	REMOTE ADMINISTRATION
	Do you maintain the ML in remote?       $SUMMARY{'REMOTE_ADMINISTRATION'}

	_i_  END
	_i_  REMOTE_ADMINISTRATION               $SUMMARY{'REMOTE_ADMINISTRATION'}
	_i_  REMOTE_ADMINISTRATION_AUTH_TYPE     $config{'REMOTE_ADMINISTRATION_AUTH_TYPE'}


=query
	type:		select
	menu:		which


============================================
/REMOTE_ADMINISTRATION/REMOTE_ADMINISTRATION


=config
	REMOTE_ADMINISTRATION

=name
	REMOTE ADMINISTRATION

=menu
	Do you maintenance the ML in remote?

=query
	type:		y-or-n
	menu:		Do you maintain in remote?


/REMOTE_ADMINISTRATION/REMOTE_ADMINISTRATION_AUTH_TYPE

=config
	REMOTE_ADMINISTRATION_AUTH_TYPE

=menu
	REMOTE_ADMINISTRATION_AUTH_TYPE          $config{'REMOTE_ADMINISTRATION_AUTH_TYPE'}

	_i_	END
	_i_	pgp
	_i_	crypt
	_i_	md5
	_i_	address

=query
	type:		select
	menu:		which type

=map
	1	pgp
	2	crypt
	3	md5
	4	address



======================================================================
###### /HEADER_CONFIG
==================================================

/HEADER_CONFIG

=config

=menu
	_i_	END
	_i_	SUBJECT_TAG_TYPE                   $config{'SUBJECT_TAG_TYPE'}
	_i_	REWRITE_TO                         $SUMMARY{'REWRITE_TO'}
	_i_	PASS_ALL_FIELDS                    $config{'SUPERFLUOUS_HEADERS'}

=query
	type:		select
	menu:		which type


/HEADER_CONFIG/REWRITE_TO

=config
	REWRITE_TO

=name
	To: field rewriting

=menu
	REWRITE_TO		$SUMMARY{'REWRITE_TO'}

	1 and 2 is FOR YOUR EYES. 
	YOU CAN ALWAYS SEE \"To: \$MAIL_LIST\" AT THE SAME POSITION.

	_i_	END
	_i_	To: $config{'MAIL_LIST'}, NON-MAIL-LIST-ADDRESS
	_i_	To: $config{'MAIL_LIST'}
	_i_	pass through the original To: 

=query
	type:		select
	menu:		which type

=map
	1	1
	2	2
	3	0


/HEADER_CONFIG/SUBJECT_TAG_TYPE

=config
	SUBJECT_TAG_TYPE

=menu
	SUBJECT_TAG_TYPE	$config{'SUBJECT_TAG_TYPE'}

	_i_	END

	TYPE    Subject Example
	----------------------------
	_i_     Subject: NO TAG (Default, Fml recommends)
	
	_i_     Subject: (Elena:100)
	
	_i_     Subject: [Elena:100]    (hml 1.6 compat)
	
	_i_     Subject: (Elena 100)
	
	_i_     Subject: [Elena 100]
	
	_i_     Subject: [Elena,100]
	
	_i_     Subject: (Elena,100)

	_i_     Subject: [Elena]

	_i_     Subject: (Elena)


=query
	type:		select
	menu:		SUBJECT TAG TYPE

=map
	1
	2	(:)
	3	[:]
	4	( )
	5	[ ]
	6	[,]
	7	(,)
	8	[]
	9	()


/HEADER_CONFIG/PASS_ALL_FIELDS

=config
	SUPERFLUOUS_HEADERS

=menu
	Pass all fields in the header ?

	PASS_ALL_FIELDS			$config{'SUPERFLUOUS_HEADERS'}

=query
	type:		y-or-n
	menu:		Pass all fields in the header ?


======================================================================
###### /OPTION
==================================================


/OPTION

=menu
	Other Optional Settings

	_i_  END		
	_i_  MIME		$config{'USE_MIME'}
	_i_  HTML 		$config{'AUTO_HTML_GEN'}
	_i_  SPOOLING   	$SUMMARY{'SPOOLING'}
	_i_  FLOCK      	$config{'USE_FLOCK'}


=query
	type:	select


==================================================

/OPTION/HTML

=config
	AUTO_HTML_GEN

=menu
	USE HTML	$config{'AUTO_HTML_GEN'}

=query
	type:		y-or-n
	menu:		AUTOMATIC HTML GENERATION


==================================================

/OPTION/MIME

=config
	USE_MIME

=menu
	USE MIME	$config{'USE_MIME'}

=query
	type:		y-or-n
	menu:		USE MIME

==================================================

/OPTION/SPOOLING

=config
	NOT_USE_SPOOL

=menu
	SPOOLING	$SUMMARY{'SPOOLING'}

=query
	type:		reverse-y-or-n
	menu:		Do you spool ML articles?


==================================================
/OPTION/FLOCK

=config
	USE_FLOCK

=menu
	USE FLOCK	$config{'USE_FLOCK'}

=query
	type:		y-or-n
	menu:		USE FLOCK

