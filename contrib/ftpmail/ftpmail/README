なんとなく 作った FTPMAIL 互換 ライブラリ α版 は廃棄しました:-)

いまは libftp.pl を使うための互換インターフェイスです。
このライブラリは ローカルディスクへアクセスするための(互換の)ものです。

libftp.pl は ftpmail server へリレーすることも出来ます。
libhref.pl も使えば ftp ftp://ftp.phys.titech.ac.jp/ls-lR.gz を理解できます。
sid.pl を参考にしてみてください。（Operations Guide をみてね doc/op）

config.ph の設定は、次の３つくらいでしょう。

＃これをセットすると ftpmail 専用のサーバになる
$LOAD_LIBRARY	= "libftpmail.pl";

＃ スプール
$FTP_DIR        = '/var/local/ftpmail';

＃ ftpmail のヘルプファイル
$FTP_HELP_FILE  = '/var/local/ftpmail/help';

デフォールトでは、メール全文をftpmailへのコマンドだと解釈します。
一行だけ ftpmail へのコマンドにするには、

    &Ftp(*Envelope, $_);

のようにして ↑に理解させたい文字列を入れればそれだけをコマンドと思い
ます。

＿＿＿＿＿＿＿＿＿＿＿＿ 以下昔と同じ説明 ＿＿＿＿＿＿＿＿＿＿＿＿

Security のため cd ./ みたいな無意味なコマンドが実行できません(_o_)
＃無意味だからいいでしょ？:-)

もし、spool/uja/Aoichan_panic が欲しい時は

	# get spool/uja/Aoichan_panic
か
	# cd spool/uja
	# get Aoichan_panic
かしないとだめです。

	# cd spool
	# cd uja
	# get Aoichan_panic

ができるほど賢くつくってありません(_o_)

あるマシンのアーカイブを対象にした簡易版で、他のマシンへコネクトしてとっ
てきたりはできません。
＃そこまでやるなら ほんものの ftpmail を使うべきでしょう(^^;)

ftpmail だと
quit 

書くところを fml 流の書き方になれている人のために

# quit 

と書いて理解します。後は help 参照 

ftp connect は実装していません。

使い方：

ftpmail 専用のアドレスなら
config.ph で
	$LOAD_LIBRARY = 'libftpmail.pl'; 

としてください。

コマンドの一部としてつかうなら、$COMMAND_HOOK にしかければいいですね。


				fukachan@phys.titech.ac.jp
